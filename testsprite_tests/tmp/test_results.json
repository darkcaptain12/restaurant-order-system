[
  {
    "projectId": "ead9b17b-3cae-4dd6-84e1-ffb15ab13978",
    "testId": "acd59b05-2361-4825-90c6-21c64fadcbea",
    "userId": "e458b428-8051-70d2-2fbb-4f7fa427a989",
    "title": "TC001-PIN-based Authentication Success",
    "description": "Verify user can authenticate successfully using a valid PIN and is redirected to the appropriate role-based dashboard with session established.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Enter valid PIN '1234' for waiter user and submit\n        frame = context.pages[-1]\n        # Enter valid PIN for waiter user\n        elem = frame.locator('xpath=html/body/div/div/div/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('1234')\n        \n\n        frame = context.pages[-1]\n        # Click login button to submit PIN\n        elem = frame.locator('xpath=html/body/div/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        await expect(frame.locator('text=Garson Paneli').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=testuser').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=√áƒ±kƒ±≈ü Yap').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Masalar').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Men√º').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Sipari≈ülerim (0)').first).to_be_visible(timeout=30000)\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/e458b428-8051-70d2-2fbb-4f7fa427a989/1763050197926168//tmp/test_task/result.webm",
    "created": "2025-11-13T16:08:37.057Z",
    "modified": "2025-11-13T16:09:58.055Z"
  },
  {
    "projectId": "ead9b17b-3cae-4dd6-84e1-ffb15ab13978",
    "testId": "0175eeb7-3f96-4d83-a987-b3e4f5f17b26",
    "userId": "e458b428-8051-70d2-2fbb-4f7fa427a989",
    "title": "TC002-PIN-based Authentication Failure with Invalid PIN",
    "description": "Verify system rejects invalid PINs and prevents access with appropriate error messages.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Enter an invalid or non-existent PIN and submit for authentication.\n        frame = context.pages[-1]\n        # Enter an invalid PIN '9999' into the PIN input field\n        elem = frame.locator('xpath=html/body/div/div/div/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('9999')\n        \n\n        frame = context.pages[-1]\n        # Click the login button to submit the invalid PIN\n        elem = frame.locator('xpath=html/body/div/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        await expect(frame.locator('text=Ge√ßersiz PIN/≈ûifre').first).to_be_visible(timeout=30000)\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/e458b428-8051-70d2-2fbb-4f7fa427a989/1763050198524061//tmp/test_task/result.webm",
    "created": "2025-11-13T16:08:37.065Z",
    "modified": "2025-11-13T16:09:58.666Z"
  },
  {
    "projectId": "ead9b17b-3cae-4dd6-84e1-ffb15ab13978",
    "testId": "a1146bd3-ee68-4714-969d-27c04d58693c",
    "userId": "e458b428-8051-70d2-2fbb-4f7fa427a989",
    "title": "TC003-Role-based Dashboard Access Control",
    "description": "Verify users see only authorized sections per their roles and protected routes prevent unauthorized access.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Input 'mutfak' in the PIN field and click the login button to authenticate as Kitchen staff user\n        frame = context.pages[-1]\n        # Input Kitchen staff PIN 'mutfak'\n        elem = frame.locator('xpath=html/body/div/div/div/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('mutfak')\n        \n\n        frame = context.pages[-1]\n        # Click the login button to authenticate\n        elem = frame.locator('xpath=html/body/div/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Attempt to navigate to Admin Dashboard route via direct URL to verify access is denied or redirected\n        await page.goto('http://localhost:5173/admin', timeout=10000)\n        await asyncio.sleep(3)\n        \n\n        # -> Re-authenticate as Kitchen staff user to verify Kitchen Dashboard loads correctly with only kitchen category orders\n        frame = context.pages[-1]\n        # Input Kitchen staff PIN 'mutfak' to re-authenticate\n        elem = frame.locator('xpath=html/body/div/div/div/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('mutfak')\n        \n\n        frame = context.pages[-1]\n        # Click the login button to authenticate as Kitchen staff user\n        elem = frame.locator('xpath=html/body/div/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Test logout functionality and re-login to ensure session and role enforcement remain consistent\n        frame = context.pages[-1]\n        # Click '√áƒ±kƒ±≈ü Yap' button to log out the Kitchen staff user\n        elem = frame.locator('xpath=html/body/div/div/header/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Re-authenticate as Kitchen staff user with PIN 'mutfak' to verify session and role enforcement\n        frame = context.pages[-1]\n        # Input Kitchen staff PIN 'mutfak' to re-authenticate\n        elem = frame.locator('xpath=html/body/div/div/div/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('mutfak')\n        \n\n        frame = context.pages[-1]\n        # Click the login button to authenticate as Kitchen staff user\n        elem = frame.locator('xpath=html/body/div/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Attempt to access another protected route (e.g., Manager or Admin specific route) to confirm access denial for Kitchen staff user\n        await page.goto('http://localhost:5173/manager', timeout=10000)\n        await asyncio.sleep(3)\n        \n\n        # -> Navigate back to Kitchen Dashboard to verify Kitchen staff user can access their authorized section correctly\n        await page.goto('http://localhost:5173/mutfak', timeout=10000)\n        await asyncio.sleep(3)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Admin Access Granted').first).to_be_visible(timeout=3000)\n        except AssertionError:\n            raise AssertionError(\"Test failed: Kitchen staff user was able to access Admin Dashboard, which violates role-based access control and protected route enforcement.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Tested role-based access control for Kitchen staff user. Authentication works and unauthorized access to Admin and Manager routes is blocked or results in empty pages. However, the Kitchen Dashboard, which should show kitchen category orders, is completely empty with no visible content. This is a critical issue that needs fixing. Task partially completed with role protection verified but content visibility failed.\nBrowser Console Logs:\n[WARNING] ‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=cc24897c:4390:12)\n[WARNING] ‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=cc24897c:4390:12)\n[ERROR] Failed to load resource: the server responded with a status of 401 (Unauthorized) (at http://localhost:3000/api/auth/me:0:0)\n[ERROR] Failed to load resource: the server responded with a status of 401 (Unauthorized) (at http://localhost:3000/api/auth/me:0:0)\n[WARNING] WebSocket connection to 'ws://localhost:3000/' failed: WebSocket is closed before the connection is established. (at http://localhost:5173/src/hooks/useWebSocket.ts?t=1763050053890:64:0)\n[ERROR] WebSocket error: Event (at http://localhost:5173/src/hooks/useWebSocket.ts?t=1763050053890:32:18)\n[WARNING] ‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=cc24897c:4390:12)\n[WARNING] ‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=cc24897c:4390:12)\n[WARNING] WebSocket connection to 'ws://localhost:3000/' failed: WebSocket is closed before the connection is established. (at http://localhost:5173/src/hooks/useWebSocket.ts?t=1763050053890:64:0)\n[ERROR] WebSocket error: Event (at http://localhost:5173/src/hooks/useWebSocket.ts?t=1763050053890:32:18)\n[WARNING] ‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=cc24897c:4390:12)\n[WARNING] ‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=cc24897c:4390:12)\n[ERROR] Failed to load resource: the server responded with a status of 401 (Unauthorized) (at http://localhost:3000/api/auth/me:0:0)\n[ERROR] Failed to load resource: the server responded with a status of 401 (Unauthorized) (at http://localhost:3000/api/auth/me:0:0)\n[WARNING] WebSocket connection to 'ws://localhost:3000/' failed: WebSocket is closed before the connection is established. (at http://localhost:5173/src/hooks/useWebSocket.ts?t=1763050053890:64:0)\n[ERROR] WebSocket error: Event (at http://localhost:5173/src/hooks/useWebSocket.ts?t=1763050053890:32:18)\n[WARNING] No routes matched location \"/manager\"  (at http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=cc24897c:211:48)\n[WARNING] No routes matched location \"/manager\"  (at http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=cc24897c:211:48)\n[WARNING] ‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=cc24897c:4390:12)\n[WARNING] ‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=cc24897c:4390:12)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/e458b428-8051-70d2-2fbb-4f7fa427a989/1763050314462694//tmp/test_task/result.webm",
    "created": "2025-11-13T16:08:37.073Z",
    "modified": "2025-11-13T16:11:54.599Z"
  },
  {
    "projectId": "ead9b17b-3cae-4dd6-84e1-ffb15ab13978",
    "testId": "511503c2-41cb-490d-be2f-37edfd67c7b4",
    "userId": "e458b428-8051-70d2-2fbb-4f7fa427a989",
    "title": "TC004-Real-time Order Status Updates via WebSocket",
    "description": "Verify that order creation and status updates propagate in real-time to relevant dashboards using WebSocket.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Input waiter PIN '1234' and click login to enter waiter dashboard\n        frame = context.pages[-1]\n        # Input waiter PIN '1234'\n        elem = frame.locator('xpath=html/body/div/div/div/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('1234')\n        \n\n        frame = context.pages[-1]\n        # Click login button to submit waiter PIN\n        elem = frame.locator('xpath=html/body/div/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Select a table (e.g., Masa 1) to create a new order with kitchen and bar category items\n        frame = context.pages[-1]\n        # Click on Masa 1 to create a new order\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Add one kitchen category item and one bar category item to the cart for Masa 1\n        frame = context.pages[-1]\n        # Add Hamburger (kitchen category) to cart\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/div[3]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Add one bar category item (Bira) to the cart for Masa 1\n        frame = context.pages[-1]\n        # Add Bira (bar category) to cart\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/div[3]/div[10]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click 'Sipari≈üi G√∂nder' button to submit the order for Masa 1\n        frame = context.pages[-1]\n        # Click 'Sipari≈üi G√∂nder' button to submit the order\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div[2]/div/div[3]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Open kitchen dashboard in a new tab to verify real-time reception of kitchen category items\n        await page.goto('http://localhost:5173/kitchen', timeout=10000)\n        await asyncio.sleep(3)\n        \n\n        # -> Login as kitchen staff using PIN 'mutfak' to access kitchen dashboard and verify real-time updates\n        frame = context.pages[-1]\n        # Input kitchen staff PIN 'mutfak'\n        elem = frame.locator('xpath=html/body/div/div/div/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('mutfak')\n        \n\n        frame = context.pages[-1]\n        # Click login button to submit kitchen staff PIN\n        elem = frame.locator('xpath=html/body/div/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click 'Ba≈ülat' button to update the order item status to IN_PROGRESS\n        frame = context.pages[-1]\n        # Click 'Ba≈ülat' button to update order item status to IN_PROGRESS\n        elem = frame.locator('xpath=html/body/div/div/div/div[3]/div/div[2]/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click 'Hazƒ±r' button to update the order item status to READY on kitchen dashboard\n        frame = context.pages[-1]\n        # Click 'Hazƒ±r' button to update order item status to READY\n        elem = frame.locator('xpath=html/body/div/div/div/div[3]/div/div[2]/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Open waiter dashboard in a new tab to verify real-time status updates for the order items\n        await page.goto('http://localhost:5173', timeout=10000)\n        await asyncio.sleep(3)\n        \n\n        # -> Login as waiter with PIN '1234' to verify real-time status updates on waiter dashboard\n        frame = context.pages[-1]\n        # Input waiter PIN '1234' to login\n        elem = frame.locator('xpath=html/body/div/div/div/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('1234')\n        \n\n        frame = context.pages[-1]\n        # Click login button to submit waiter PIN\n        elem = frame.locator('xpath=html/body/div/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click on 'Masa 1' to open order details and verify updated item statuses in real-time\n        frame = context.pages[-1]\n        # Click on 'Masa 1' to view order details and verify real-time status updates\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        await expect(frame.locator('text=Hamburger').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Bira').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Ba≈ülat').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Hazƒ±r').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Masa 1').first).to_be_visible(timeout=30000)\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/e458b428-8051-70d2-2fbb-4f7fa427a989/176305050258477//tmp/test_task/result.webm",
    "created": "2025-11-13T16:08:37.079Z",
    "modified": "2025-11-13T16:15:02.775Z"
  },
  {
    "projectId": "ead9b17b-3cae-4dd6-84e1-ffb15ab13978",
    "testId": "75283064-60dc-471f-8897-820fcafede78",
    "userId": "e458b428-8051-70d2-2fbb-4f7fa427a989",
    "title": "TC005-Order Creation and Lifecycle Management",
    "description": "Test complete order lifecycle including creation, status progression, cancellation with reasons, serving, and completion.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Input waiter PIN '1234' and click login button to enter waiter interface\n        frame = context.pages[-1]\n        # Input waiter PIN 1234\n        elem = frame.locator('xpath=html/body/div/div/div/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('1234')\n        \n\n        frame = context.pages[-1]\n        # Click login button to submit PIN and login\n        elem = frame.locator('xpath=html/body/div/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Select a table (Masa 1) to start adding categorized menu items to cart\n        frame = context.pages[-1]\n        # Select Masa 1 to start order creation\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Add multiple categorized menu items to the cart for Masa 1\n        frame = context.pages[-1]\n        # Add Hamburger to cart\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/div[3]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Add ≈ûarap (drink) and Lahmacun (food) to cart for Masa 1\n        frame = context.pages[-1]\n        # Add ≈ûarap (drink) to cart\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/div[3]/div[11]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Add Lahmacun to cart for Masa 1 and then submit the order\n        frame = context.pages[-1]\n        # Add Lahmacun to cart\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/div[3]/div[3]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        frame = context.pages[-1]\n        # Click 'Send Order' button to submit the order\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div[2]/div/div[2]/div[3]/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Navigate to Kitchen dashboard to verify order appears as PENDING with correct details\n        frame = context.pages[-1]\n        # Click 'Sipari≈ülerim' to view orders dashboard\n        elem = frame.locator('xpath=html/body/div/div/div/div/button[3]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Simulate kitchen staff marking order items IN_PROGRESS and then READY\n        await page.goto('http://localhost:5173/kitchen', timeout=10000)\n        await asyncio.sleep(3)\n        \n\n        # -> Input kitchen staff PIN 'mutfak' and click login button to enter kitchen dashboard\n        frame = context.pages[-1]\n        # Input kitchen staff PIN 'mutfak'\n        elem = frame.locator('xpath=html/body/div/div/div/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('mutfak')\n        \n\n        frame = context.pages[-1]\n        # Click login button to submit kitchen staff PIN and login\n        elem = frame.locator('xpath=html/body/div/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Mark the 'Beklemede' Hamburger order item for Masa 1 as IN_PROGRESS by clicking 'Ba≈ülat' button\n        frame = context.pages[-1]\n        # Click 'Ba≈ülat' to mark Hamburger order item as IN_PROGRESS\n        elem = frame.locator('xpath=html/body/div/div/div/div[3]/div[2]/div[2]/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Mark the same Hamburger order item as READY by clicking the 'Hazƒ±r' button\n        frame = context.pages[-1]\n        # Click 'Hazƒ±r' button to mark Hamburger order item as READY\n        elem = frame.locator('xpath=html/body/div/div/div/div[3]/div/div[2]/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Cancel one order item for Masa 1 with a cancellation reason by clicking 'ƒ∞ptal' button\n        frame = context.pages[-1]\n        # Click 'ƒ∞ptal' button to cancel Hamburger order item for Masa 1\n        elem = frame.locator('xpath=html/body/div/div/div/div[3]/div[3]/div[2]/div/div[2]/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Order Completed Successfully').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: The complete order lifecycle including creation, status progression, cancellation with reasons, serving, and completion did not execute successfully as expected.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Tested complete order lifecycle including creation, status progression, and attempted cancellation. Cancellation with reason functionality is not working as expected; no prompt or status change occurs on clicking 'ƒ∞ptal'. Reporting this issue and stopping further testing.\nBrowser Console Logs:\n[WARNING] ‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=cc24897c:4390:12)\n[WARNING] ‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=cc24897c:4390:12)\n[ERROR] Failed to load resource: the server responded with a status of 401 (Unauthorized) (at http://localhost:3000/api/auth/me:0:0)\n[ERROR] Failed to load resource: the server responded with a status of 401 (Unauthorized) (at http://localhost:3000/api/auth/me:0:0)\n[WARNING] WebSocket connection to 'ws://localhost:3000/' failed: WebSocket is closed before the connection is established. (at http://localhost:5173/src/hooks/useWebSocket.ts?t=1763050053890:64:0)\n[ERROR] WebSocket error: Event (at http://localhost:5173/src/hooks/useWebSocket.ts?t=1763050053890:32:18)\n[WARNING] ‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=cc24897c:4390:12)\n[WARNING] ‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=cc24897c:4390:12)\n[WARNING] WebSocket connection to 'ws://localhost:3000/' failed: WebSocket is closed before the connection is established. (at http://localhost:5173/src/hooks/useWebSocket.ts?t=1763050053890:64:0)\n[ERROR] WebSocket error: Event (at http://localhost:5173/src/hooks/useWebSocket.ts?t=1763050053890:32:18)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/e458b428-8051-70d2-2fbb-4f7fa427a989/1763050496940541//tmp/test_task/result.webm",
    "created": "2025-11-13T16:08:37.086Z",
    "modified": "2025-11-13T16:14:57.075Z"
  },
  {
    "projectId": "ead9b17b-3cae-4dd6-84e1-ffb15ab13978",
    "testId": "fbdf042d-5540-43f0-9104-c9ceb6218888",
    "userId": "e458b428-8051-70d2-2fbb-4f7fa427a989",
    "title": "TC006-Menu Management Full CRUD Operations",
    "description": "Verify Admin can create, read, update, and delete menu items including handling campaign menu groups.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Input admin PIN '5678' and click login button to access admin panel.\n        frame = context.pages[-1]\n        # Input admin PIN for login\n        elem = frame.locator('xpath=html/body/div/div/div/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('5678')\n        \n\n        frame = context.pages[-1]\n        # Click login button to submit PIN and login\n        elem = frame.locator('xpath=html/body/div/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Navigate to menu management section by clicking the 'üìã Men√º' button.\n        frame = context.pages[-1]\n        # Click the 'üìã Men√º' button to go to menu management section\n        elem = frame.locator('xpath=html/body/div/div/div/div/button[6]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Create a new menu item with category 'kitchen' by filling the form and submitting.\n        frame = context.pages[-1]\n        # Input new menu item name\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/form/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Test Kitchen Item')\n        \n\n        frame = context.pages[-1]\n        # Input price for new menu item\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/form/div/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('123')\n        \n\n        frame = context.pages[-1]\n        # Input extras/description for new menu item\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/form/div[2]/textarea').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Test item for kitchen category')\n        \n\n        frame = context.pages[-1]\n        # Click '√úr√ºn Ekle' button to add new menu item\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/form/div[3]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click the edit button for the newly created menu item 'Test Kitchen Item' to update its price and description.\n        frame = context.pages[-1]\n        # Click the 'D√ºzenle' button for the new menu item 'Test Kitchen Item' to edit it\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div[2]/div/div[22]/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Update the price to 100 and description to 'Updated description for testing' and save changes.\n        frame = context.pages[-1]\n        # Update price to 100\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/form/div/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('100')\n        \n\n        frame = context.pages[-1]\n        # Update description for the menu item\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/form/div[2]/textarea').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Updated description for testing')\n        \n\n        frame = context.pages[-1]\n        # Click 'G√ºncelle' button to save updates\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/form/div[3]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Create a campaign menu grouping multiple items by selecting 'Kampanya' category and adding items to the campaign group.\n        frame = context.pages[-1]\n        # Input campaign menu item name\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/form/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('Campaign Test Item')\n        \n\n        frame = context.pages[-1]\n        # Input price for campaign menu item\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/form/div/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('250')\n        \n\n        # -> Add existing menu items to the campaign menu group by selecting from the dropdown and clicking the add button.\n        frame = context.pages[-1]\n        # Click '‚ûï Ekle' button to add selected item to campaign menu content\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/form/div[2]/div/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click the '‚úÖ √úr√ºn Ekle' button to save the campaign menu item with grouped content.\n        frame = context.pages[-1]\n        # Click '‚úÖ √úr√ºn Ekle' button to save the campaign menu item with grouped content\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/form/div[3]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Delete the menu item 'Test Kitchen Item' and verify it no longer appears in the menu list.\n        frame = context.pages[-1]\n        # Click 'Sil' button for the menu item 'Test Kitchen Item' to delete it\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div[2]/div/div[22]/div/div[2]/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Menu item successfully created and updated').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test plan failed: Admin menu item creation, update, campaign grouping, or deletion did not complete successfully as expected.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Tested admin CRUD operations on menu items including campaign menu groups. All steps succeeded except deleting menu items, which failed to remove the item from the list. Reporting this issue and stopping further testing.\nBrowser Console Logs:\n[WARNING] ‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=cc24897c:4390:12)\n[WARNING] ‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=cc24897c:4390:12)\n[ERROR] Failed to load resource: the server responded with a status of 401 (Unauthorized) (at http://localhost:3000/api/auth/me:0:0)\n[ERROR] Failed to load resource: the server responded with a status of 401 (Unauthorized) (at http://localhost:3000/api/auth/me:0:0)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/e458b428-8051-70d2-2fbb-4f7fa427a989/1763050565110697//tmp/test_task/result.webm",
    "created": "2025-11-13T16:08:37.093Z",
    "modified": "2025-11-13T16:16:05.324Z"
  },
  {
    "projectId": "ead9b17b-3cae-4dd6-84e1-ffb15ab13978",
    "testId": "22b99142-ec7e-4e47-8793-060fc9d63b44",
    "userId": "e458b428-8051-70d2-2fbb-4f7fa427a989",
    "title": "TC007-Table Management and Status Tracking",
    "description": "Verify visual 20-table layout, status tracking updates, and table transfer operations function correctly.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Input PIN '1234' for waiter login and click login button\n        frame = context.pages[-1]\n        # Input PIN '1234' for waiter login\n        elem = frame.locator('xpath=html/body/div/div/div/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('1234')\n        \n\n        frame = context.pages[-1]\n        # Click login button to submit PIN\n        elem = frame.locator('xpath=html/body/div/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Create an order for a table (e.g., Masa 1) and verify status changes to pending\n        frame = context.pages[-1]\n        # Click on Masa 1 to create an order\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Add an item to the cart for Masa 1 and verify the table status changes to pending\n        frame = context.pages[-1]\n        # Click 'Sepete Ekle' for Hamburger to add to cart for Masa 1\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/div[3]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click 'Sipari≈üi G√∂nder' button to complete and send the order for Masa 1, then verify table status updates accordingly\n        frame = context.pages[-1]\n        # Click 'Sipari≈üi G√∂nder' button to complete and send the order for Masa 1\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div[2]/div/div[3]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Perform a table transfer from Masa 1 to Masa 2 and verify status and order association updates\n        frame = context.pages[-1]\n        # Click 'Masa Ta≈üƒ±' button to initiate table transfer\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        frame = context.pages[-1]\n        # Select Masa 1 as source table for transfer\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        frame = context.pages[-1]\n        # Select Masa 2 as target table for transfer\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/div[2]/button[4]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Table Transfer Successful').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: The test plan execution failed to verify the visual 20-table layout, status tracking updates, and table transfer operations. 'Table Transfer Successful' message not found, indicating failure in table transfer or status update.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Testing completed with issue: Table transfer operation failed to function correctly. All other steps including visual layout verification and order status updates were successful. Please fix the table transfer functionality for further testing.\nBrowser Console Logs:\n[WARNING] ‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=cc24897c:4390:12)\n[WARNING] ‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=cc24897c:4390:12)\n[ERROR] Failed to load resource: the server responded with a status of 401 (Unauthorized) (at http://localhost:3000/api/auth/me:0:0)\n[ERROR] Failed to load resource: the server responded with a status of 401 (Unauthorized) (at http://localhost:3000/api/auth/me:0:0)\n[WARNING] WebSocket connection to 'ws://localhost:3000/' failed: WebSocket is closed before the connection is established. (at http://localhost:5173/src/hooks/useWebSocket.ts?t=1763050053890:64:0)\n[ERROR] WebSocket error: Event (at http://localhost:5173/src/hooks/useWebSocket.ts?t=1763050053890:32:18)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/e458b428-8051-70d2-2fbb-4f7fa427a989/1763050369270715//tmp/test_task/result.webm",
    "created": "2025-11-13T16:08:37.099Z",
    "modified": "2025-11-13T16:12:49.393Z"
  },
  {
    "projectId": "ead9b17b-3cae-4dd6-84e1-ffb15ab13978",
    "testId": "e1790cc8-b3ff-42f4-808e-8a57f73a419a",
    "userId": "e458b428-8051-70d2-2fbb-4f7fa427a989",
    "title": "TC008-Payment Processing for Cash and Card with Discount Application",
    "description": "Verify cashier can process payments via cash and card, apply discounts, and payment history logs correctly.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Input PIN '1234' for Ahmet (Garson) and click login\n        frame = context.pages[-1]\n        # Input PIN for Ahmet (Garson)\n        elem = frame.locator('xpath=html/body/div/div/div/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('1234')\n        \n\n        frame = context.pages[-1]\n        # Click login button\n        elem = frame.locator('xpath=html/body/div/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Select a table with an active order\n        frame = context.pages[-1]\n        # Select Masa 1 (table 1) to open active order\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Add an item to the basket to create an active order\n        frame = context.pages[-1]\n        # Add Hamburger to basket\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/div[3]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Apply a discount to the bill for Masa 1\n        frame = context.pages[-1]\n        # Click 'Sipari≈üi G√∂nder' to send the order and proceed to payment\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div[2]/div/div[3]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Select Masa 1 again to check for discount application or payment options\n        frame = context.pages[-1]\n        # Select Masa 1 to check order details and discount options\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Add an item to the basket to create an active order for discount and payment testing\n        frame = context.pages[-1]\n        # Add Hamburger to basket for Masa 1\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/div[3]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Look for discount application option or button before sending order\n        await page.mouse.wheel(0, 500)\n        \n\n        # -> Scroll further down to try to locate discount application UI or payment options\n        await page.mouse.wheel(0, 500)\n        \n\n        # -> Click 'Sipari≈üi G√∂nder' to proceed to payment screen and check for discount or payment options there\n        frame = context.pages[-1]\n        # Click 'Sipari≈üi G√∂nder' to proceed to payment screen\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div[2]/div/div[3]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Payment Successful').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: The test plan execution failed to verify that the cashier can process payments via cash and card, apply discounts, and log payment history correctly.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Testing stopped due to missing discount and payment processing UI. The system does not allow applying discounts or completing payments as expected. Please fix the UI to enable discount application and payment processing before retesting.\nBrowser Console Logs:\n[WARNING] ‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=cc24897c:4390:12)\n[WARNING] ‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=cc24897c:4390:12)\n[ERROR] Failed to load resource: the server responded with a status of 401 (Unauthorized) (at http://localhost:3000/api/auth/me:0:0)\n[ERROR] Failed to load resource: the server responded with a status of 401 (Unauthorized) (at http://localhost:3000/api/auth/me:0:0)\n[WARNING] WebSocket connection to 'ws://localhost:3000/' failed: WebSocket is closed before the connection is established. (at http://localhost:5173/src/hooks/useWebSocket.ts?t=1763050053890:64:0)\n[ERROR] WebSocket error: Event (at http://localhost:5173/src/hooks/useWebSocket.ts?t=1763050053890:32:18)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/e458b428-8051-70d2-2fbb-4f7fa427a989/1763050413259885//tmp/test_task/result.webm",
    "created": "2025-11-13T16:08:37.107Z",
    "modified": "2025-11-13T16:13:33.385Z"
  },
  {
    "projectId": "ead9b17b-3cae-4dd6-84e1-ffb15ab13978",
    "testId": "6f345663-765b-4b34-bcea-e4ea5ca3b0fe",
    "userId": "e458b428-8051-70d2-2fbb-4f7fa427a989",
    "title": "TC009-Reporting Accuracy and Data Integrity",
    "description": "Verify live revenue updates, daily/weekly/monthly reports, top products, payment breakdowns, and staff sales are accurate.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Input admin PIN '5678' and click login button to access dashboard.\n        frame = context.pages[-1]\n        # Input admin PIN to login\n        elem = frame.locator('xpath=html/body/div/div/div/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('5678')\n        \n\n        frame = context.pages[-1]\n        # Click login button to submit PIN and login\n        elem = frame.locator('xpath=html/body/div/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click on the 'G√ºnl√ºk' (Daily) button to view daily sales report and verify its correctness.\n        frame = context.pages[-1]\n        # Click on 'G√ºnl√ºk' (Daily) button to view daily sales report\n        elem = frame.locator('xpath=html/body/div/div/div/div/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click on the 'Haftalƒ±k' (Weekly) button to view weekly sales report and verify its correctness.\n        frame = context.pages[-1]\n        # Click on 'Haftalƒ±k' (Weekly) button to view weekly sales report\n        elem = frame.locator('xpath=html/body/div/div/div/div/button[3]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click on the 'Aylƒ±k' (Monthly) button to view monthly sales report and verify its correctness.\n        frame = context.pages[-1]\n        # Click on 'Aylƒ±k' (Monthly) button to view monthly sales report\n        elem = frame.locator('xpath=html/body/div/div/div/div/button[4]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click on the 'Personel' (Staff) tab to view and verify staff sales breakdown.\n        frame = context.pages[-1]\n        # Click on 'Personel' (Staff) tab to view staff sales breakdown\n        elem = frame.locator('xpath=html/body/div/div/div/div/button[5]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click on the 'Men√º' (Menu) tab to view and verify top products sales data.\n        frame = context.pages[-1]\n        # Click on 'Men√º' (Menu) tab to view top products sales data\n        elem = frame.locator('xpath=html/body/div/div/div/div/button[6]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Extract sales data or revenue contribution for top products if available, or verify product list completeness and prices.\n        await page.mouse.wheel(0, 500)\n        \n\n        # -> Click on the 'Kasa' (Cash Register) tab to view and verify payment breakdowns and confirm they match reported revenue.\n        frame = context.pages[-1]\n        # Click on 'Kasa' (Cash Register) tab to view payment breakdowns\n        elem = frame.locator('xpath=html/body/div/div/header/div/div[2]/div/button[3]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        await expect(frame.locator('text=üí∞').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Kasa Paneli').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=√áƒ±kƒ±≈ü Yap').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Masa D√ºzeni').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=üí∞').nth(1)).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Masa 1').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=4 sipari≈ü').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=700 ‚Ç∫').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=üí∞').nth(2)).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Masa 2').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=1 sipari≈ü').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=150 ‚Ç∫').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=ü™ë').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Masa 3').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Masa 4').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Masa 5').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Masa 6').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Masa 7').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Masa 8').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Masa 9').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Masa 10').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Masa 11').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Masa 12').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Masa 13').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Masa 14').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Masa 15').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Masa 16').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Masa 17').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Masa 18').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Masa 19').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Masa 20').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=üí∞').nth(3)).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Masa se√ßin').first).to_be_visible(timeout=30000)\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/e458b428-8051-70d2-2fbb-4f7fa427a989/1763050436940265//tmp/test_task/result.webm",
    "created": "2025-11-13T16:08:37.114Z",
    "modified": "2025-11-13T16:13:57.089Z"
  },
  {
    "projectId": "ead9b17b-3cae-4dd6-84e1-ffb15ab13978",
    "testId": "d31b1fe7-9792-4909-b3bc-f2ff46a3c584",
    "userId": "e458b428-8051-70d2-2fbb-4f7fa427a989",
    "title": "TC010-Staff Management: Add and Delete Staff with PIN",
    "description": "Verify Admin can add new waiter or cashier staff with PIN registration and delete existing staff securely.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Input Admin PIN 5678 and click login button to access admin panel.\n        frame = context.pages[-1]\n        # Input Admin PIN 5678\n        elem = frame.locator('xpath=html/body/div/div/div/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('5678')\n        \n\n        frame = context.pages[-1]\n        # Click login button to submit PIN\n        elem = frame.locator('xpath=html/body/div/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click on 'Personel' button to navigate to staff management section.\n        frame = context.pages[-1]\n        # Click 'Personel' button to go to staff management section\n        elem = frame.locator('xpath=html/body/div/div/div/div/button[5]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Fill in new waiter username, PIN, select role as Garson (waiter), and click 'Personel Ekle' to add new staff.\n        frame = context.pages[-1]\n        # Input new waiter username\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/form/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('new_waiter_002')\n        \n\n        frame = context.pages[-1]\n        # Input new waiter PIN\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/form/div/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('7890')\n        \n\n        frame = context.pages[-1]\n        # Click 'Personel Ekle' button to add new waiter staff\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click delete button for cashier staff with PIN '11' to remove them securely.\n        frame = context.pages[-1]\n        # Click delete button for cashier staff with PIN '11'\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div[2]/div/div[3]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Staff member successfully deleted').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: Admin was unable to securely delete an existing cashier staff member or the deletion confirmation message did not appear as expected.\")\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Tested adding new waiter staff with PIN registration successfully. However, deletion of existing cashier staff with PIN '11' failed as the staff member remained in the list after clicking delete. This indicates a bug in the staff deletion functionality. Stopping further testing.\nBrowser Console Logs:\n[WARNING] ‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition. (at http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=cc24897c:4390:12)\n[WARNING] ‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath. (at http://localhost:5173/node_modules/.vite/deps/react-router-dom.js?v=cc24897c:4390:12)\n[ERROR] Failed to load resource: the server responded with a status of 401 (Unauthorized) (at http://localhost:3000/api/auth/me:0:0)\n[ERROR] Failed to load resource: the server responded with a status of 401 (Unauthorized) (at http://localhost:3000/api/auth/me:0:0)",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/e458b428-8051-70d2-2fbb-4f7fa427a989/1763050339694968//tmp/test_task/result.webm",
    "created": "2025-11-13T16:08:37.120Z",
    "modified": "2025-11-13T16:12:19.861Z"
  },
  {
    "projectId": "ead9b17b-3cae-4dd6-84e1-ffb15ab13978",
    "testId": "8c72249c-becd-497e-9439-38de76c241b8",
    "userId": "e458b428-8051-70d2-2fbb-4f7fa427a989",
    "title": "TC011-Data Persistence and JSON File Integrity",
    "description": "Verify that all CRUD operations on users, menus, orders, and completed orders persist correctly to JSON files without data corruption.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Input PIN '1' and click login button to enter the system.\n        frame = context.pages[-1]\n        # Input PIN '1' into the password field\n        elem = frame.locator('xpath=html/body/div/div/div/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('1')\n        \n\n        frame = context.pages[-1]\n        # Click the login button to submit PIN\n        elem = frame.locator('xpath=html/body/div/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click on the 'üìã Men√º' button to access menu items for CRUD operations.\n        frame = context.pages[-1]\n        # Click on the 'üìã Men√º' button to access menu items for CRUD operations\n        elem = frame.locator('xpath=html/body/div/div/div/div/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Add a menu item to the cart by clicking the '‚ûï Sepete Ekle' button for 'Hamburger'.\n        frame = context.pages[-1]\n        # Click '‚ûï Sepete Ekle' button for Hamburger to add it to the cart\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/div[3]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click on the 'ü™ë Masalar' tab to select a table for the order.\n        frame = context.pages[-1]\n        # Click on the 'ü™ë Masalar' tab to select a table\n        elem = frame.locator('xpath=html/body/div/div/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Select 'Masa 2' (table 2) to assign the current cart order to this table.\n        frame = context.pages[-1]\n        # Click on 'Masa 2' to select this table for the order\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Add 'Hamburger' to the cart for 'Masa 2' by clicking '‚ûï Sepete Ekle' button.\n        frame = context.pages[-1]\n        # Click '‚ûï Sepete Ekle' button for Hamburger to add it to the cart for Masa 2\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/div[3]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click the '‚úÖ Sipari≈üi G√∂nder' button to send the order for Masa 2.\n        frame = context.pages[-1]\n        # Click the '‚úÖ Sipari≈üi G√∂nder' button to send the order for Masa 2\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div[2]/div/div[3]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Navigate to the orders page to inspect orders and completed orders JSON files for data consistency.\n        frame = context.pages[-1]\n        # Click on 'üì¶ Sipari≈ülerim' button to view orders and inspect related JSON files\n        elem = frame.locator('xpath=html/body/div/div/div/div/button[3]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Navigate back to 'Masalar' tab to select a table and view orders for inspection.\n        frame = context.pages[-1]\n        # Click on 'ü™ë Masalar' tab to select a table and view orders\n        elem = frame.locator('xpath=html/body/div/div/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Open a new tab to access the server file system or API to inspect users.json, menu.json, orders.json, and completed-orders.json for data consistency.\n        await page.goto('http://localhost:5173/admin', timeout=10000)\n        await asyncio.sleep(3)\n        \n\n        # -> Log in as admin using PIN '5678' to gain access to admin panel and inspect JSON files for persistence verification.\n        frame = context.pages[-1]\n        # Input admin PIN '5678' to login\n        elem = frame.locator('xpath=html/body/div/div/div/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('5678')\n        \n\n        frame = context.pages[-1]\n        # Click login button to submit admin PIN\n        elem = frame.locator('xpath=html/body/div/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click on the 'üë• Personel' tab to inspect user data and verify persistence in users.json.\n        frame = context.pages[-1]\n        # Click on the 'üë• Personel' tab to inspect user data\n        elem = frame.locator('xpath=html/body/div/div/div/div/button[5]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Add a new personnel user with username 'test_add_user', PIN '9999', and role 'Garson' to test user creation and persistence.\n        frame = context.pages[-1]\n        # Input username 'test_add_user'\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/form/div/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('test_add_user')\n        \n\n        frame = context.pages[-1]\n        # Input PIN '9999'\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/form/div/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('9999')\n        \n\n        frame = context.pages[-1]\n        # Click '‚úÖ Personel Ekle' button to add new personnel user\n        elem = frame.locator('xpath=html/body/div/div/div/div[2]/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click on the 'üìã Men√º' tab to inspect menu items and verify persistence in menu.json.\n        frame = context.pages[-1]\n        # Click on the 'üìã Men√º' tab to inspect menu items\n        elem = frame.locator('xpath=html/body/div/div/div/div/button[6]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        await expect(frame.locator('text=Hamburger').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Pizza Margherita').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Tavuk ≈ûi≈ü').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Lahmacun').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=D√∂ner').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=K√∂fte').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Balƒ±k').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Salata').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=√áorba').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Makarna').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Bira').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=≈ûarap').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Kokteyl').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Meyve Suyu').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Kahve').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=√áay').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Kola').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Su').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Baklava').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=S√ºtla√ß').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Tiramisu').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Dondurma').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Cheesecake').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Brownie').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Kampanya Men√º 1').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Kampanya Men√º 2').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Kampanya Men√º 3').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Men√º 5').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Test Kitchen Item').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Campaign Test Item').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=test_add_user').first).to_be_visible(timeout=30000)\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/e458b428-8051-70d2-2fbb-4f7fa427a989/1763050588286713//tmp/test_task/result.webm",
    "created": "2025-11-13T16:08:37.130Z",
    "modified": "2025-11-13T16:16:28.456Z"
  },
  {
    "projectId": "ead9b17b-3cae-4dd6-84e1-ffb15ab13978",
    "testId": "42921173-8eec-4370-ac3d-ec09d564933b",
    "userId": "e458b428-8051-70d2-2fbb-4f7fa427a989",
    "title": "TC012-Routing and Navigation with Protected Routes",
    "description": "Verify React Router enforces route protection, redirects unauthorized users, and navigation works correctly per role.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:5173\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Input waiter PIN 1234 and click login button to navigate to Waiter Dashboard\n        frame = context.pages[-1]\n        # Input waiter PIN 1234\n        elem = frame.locator('xpath=html/body/div/div/div/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('1234')\n        \n\n        frame = context.pages[-1]\n        # Click login button to submit waiter credentials\n        elem = frame.locator('xpath=html/body/div/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Navigate directly to Admin Dashboard URL to test route protection for unauthorized access\n        await page.goto('http://localhost:5173/admin', timeout=10000)\n        await asyncio.sleep(3)\n        \n\n        # -> Attempt to access a protected route without login to verify redirection to login page\n        await page.goto('http://localhost:5173/garson', timeout=10000)\n        await asyncio.sleep(3)\n        \n\n        # -> Perform logout action to clear session and then attempt to access a protected route to verify redirection to login page\n        await page.goto('http://localhost:5173/logout', timeout=10000)\n        await asyncio.sleep(3)\n        \n\n        # -> Navigate to a protected route like /garson to verify redirection to login page after logout\n        await page.goto('http://localhost:5173/garson', timeout=10000)\n        await asyncio.sleep(3)\n        \n\n        # -> Navigate to login page and login as admin with username '1' and password '1'\n        await page.goto('http://localhost:5173/login', timeout=10000)\n        await asyncio.sleep(3)\n        \n\n        # -> Input admin PIN 5678 and click login button to navigate to Admin Dashboard\n        frame = context.pages[-1]\n        # Input admin PIN 5678\n        elem = frame.locator('xpath=html/body/div/div/div/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('5678')\n        \n\n        frame = context.pages[-1]\n        # Click login button to submit admin credentials\n        elem = frame.locator('xpath=html/body/div/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click on the role switch feature or relevant button to switch user roles and verify dashboard updates and access control\n        frame = context.pages[-1]\n        # Click √áƒ±kƒ±≈ü (Logout) button to test logout and role switch behavior\n        elem = frame.locator('xpath=html/body/div/div/header/div/div[2]/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input admin PIN '5678' and click login button to login as admin and test role switch feature\n        frame = context.pages[-1]\n        # Input admin PIN 5678\n        elem = frame.locator('xpath=html/body/div/div/div/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('5678')\n        \n\n        frame = context.pages[-1]\n        # Click login button to submit admin credentials\n        elem = frame.locator('xpath=html/body/div/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click on 'Mutfak Paneline Ge√ß' button to switch to Kitchen Panel and verify access and content update\n        frame = context.pages[-1]\n        # Click 'Mutfak Paneline Ge√ß' button to switch to Kitchen Panel\n        elem = frame.locator('xpath=html/body/div/div/header/div/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click '√áƒ±kƒ±≈ü Yap' button to logout or navigate back to Admin Dashboard to test role switch and access control\n        frame = context.pages[-1]\n        # Click '√áƒ±kƒ±≈ü Yap' button to logout or test role switch behavior\n        elem = frame.locator('xpath=html/body/div/div/header/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Input admin PIN '5678' and click login button to login as admin\n        frame = context.pages[-1]\n        # Input admin PIN 5678\n        elem = frame.locator('xpath=html/body/div/div/div/form/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('5678')\n        \n\n        frame = context.pages[-1]\n        # Click login button to submit admin credentials\n        elem = frame.locator('xpath=html/body/div/div/div/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click 'Bar Paneline Ge√ß' button to switch to Bar Panel and verify dashboard updates and access control\n        frame = context.pages[-1]\n        # Click 'Bar Paneline Ge√ß' button to switch to Bar Panel\n        elem = frame.locator('xpath=html/body/div/div/header/div/div[2]/div/button[2]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Click '√áƒ±kƒ±≈ü Yap' button to logout and verify redirection to login page to complete the test\n        frame = context.pages[-1]\n        # Click '√áƒ±kƒ±≈ü Yap' button to logout from Bar Panel\n        elem = frame.locator('xpath=html/body/div/div/header/div/div[2]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        await expect(frame.locator('text=PIN / ≈ûifre').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Giri≈ü Yap').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=1234 ‚Üí Ahmet (Garson)').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=5678 ‚Üí Admin').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Restoran Sipari≈ü Sistemi').first).to_be_visible(timeout=30000)\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/e458b428-8051-70d2-2fbb-4f7fa427a989/17630504958628//tmp/test_task/result.webm",
    "created": "2025-11-13T16:08:37.137Z",
    "modified": "2025-11-13T16:14:55.998Z"
  }
]
